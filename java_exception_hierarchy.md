![image](https://github.com/user-attachments/assets/006857d8-70dc-4cce-99f9-a8522dae54d1)

Иерархия исключений в Java является важной частью системы обработки ошибок. Исключения представляют собой события, которые могут возникнуть во время выполнения программы и нарушить её нормальное функционирование. Все исключения в Java наследуются от класса `Throwable`. Иерархия исключений делится на две основные категории: **проверяемые (checked)** и **непроверяемые (unchecked)** исключения.

### 1. **Иерархия исключений**

```
java.lang.Object
   └── java.lang.Throwable
        ├── java.lang.Exception
        │    ├── Проверяемые исключения
        │    └── Непроверяемые исключения (RuntimeException)
        └── java.lang.Error
```

- **`Throwable`** — это базовый класс для всех ошибок и исключений в Java. У него два основных подкласса: `Error` и `Exception`.

### 2. **Типы исключений**

#### a) **Error**
- **`Error`** — это подкласс `Throwable`, который представляет собой **фатальные ошибки**, возникающие в процессе выполнения программы. Эти ошибки обычно связаны с проблемами среды выполнения (runtime), и программист не должен их обрабатывать, так как они обычно указывают на серьёзные проблемы, например, нехватку памяти.
  
  Примеры ошибок:
  - `OutOfMemoryError`
  - `StackOverflowError`
  - `VirtualMachineError`

#### b) **Exception**
- **`Exception`** — это подкласс `Throwable`, который представляет **исключения**, возникающие в ходе нормальной работы программы. В отличие от `Error`, исключения можно обрабатывать с помощью конструкций `try-catch`. `Exception` делится на два основных подкласса: **проверяемые (checked)** и **непроверяемые (unchecked)** исключения.

### 3. **Проверяемые и непроверяемые исключения**

#### a) **Проверяемые исключения (Checked Exceptions)**
- Проверяемые исключения — это исключения, которые компилятор требует обрабатывать или объявлять в методе с помощью ключевого слова `throws`. Эти исключения обычно возникают в ситуациях, которые можно предсказать и обработать во время выполнения программы, например, проблемы с вводом/выводом или доступом к файлам.
  
  Примеры проверяемых исключений:
  - `IOException` — возникает при проблемах с чтением/записью файлов.
  - `SQLException` — возникает при работе с базами данных.
  - `FileNotFoundException` — возникает, если файл не найден.

  Пример обработки проверяемого исключения:
  ```java
  public void readFile(String fileName) {
      try {
          FileInputStream file = new FileInputStream(fileName);
      } catch (FileNotFoundException e) {
          e.printStackTrace(); // Обработка исключения
      }
  }
  ```

#### b) **Непроверяемые исключения (Unchecked Exceptions)**
- Непроверяемые исключения — это исключения, которые происходят в результате ошибок программирования, таких как арифметические ошибки или попытки доступа к несуществующему элементу массива. Эти исключения являются подклассами `RuntimeException`, и программист не обязан явно обрабатывать их.

  Примеры непроверяемых исключений:
  - `NullPointerException` — возникает, когда программа пытается использовать объект, который равен `null`.
  - `ArrayIndexOutOfBoundsException` — возникает, если обратиться к элементу массива с индексом за пределами его границ.
  - `IllegalArgumentException` — возникает, если передан недопустимый аргумент методу.

  Пример непроверяемого исключения:
  ```java
  public void divide(int a, int b) {
      if (b == 0) {
          throw new ArithmeticException("Division by zero");
      }
      int result = a / b;
  }
  ```

### 4. **Классы исключений в Java**

#### a) **Класс `Throwable`**
- `Throwable` является базовым классом для всех исключений и ошибок. Он определяет методы для получения информации об исключении, такие как `getMessage()`, `printStackTrace()`, и `getCause()`.

#### b) **Класс `Exception`**
- `Exception` — это общий класс для всех исключений, которые можно и нужно обрабатывать в коде. Все исключения, кроме тех, что наследуются от `RuntimeException`, являются проверяемыми.

#### c) **Класс `RuntimeException`**
- `RuntimeException` — это базовый класс для всех непроверяемых исключений. Его потомки не требуют обработки с помощью `try-catch` и могут быть пропущены в сигнатуре метода.
  
#### d) **Класс `Error`**
- `Error` представляет собой серьёзные ошибки времени выполнения, которые не предназначены для обработки в коде приложения.

### 5. **Примеры распространенных исключений**

1. **`NullPointerException`**:
   - Возникает, если программа пытается использовать объект, который равен `null`.
   - Пример:
     ```java
     String s = null;
     System.out.println(s.length()); // NullPointerException
     ```

2. **`ArrayIndexOutOfBoundsException`**:
   - Возникает при попытке доступа к индексу массива за пределами его допустимых значений.
   - Пример:
     ```java
     int[] arr = new int[5];
     System.out.println(arr[10]); // ArrayIndexOutOfBoundsException
     ```

3. **`ClassCastException`**:
   - Возникает при попытке неправильного приведения типов.
   - Пример:
     ```java
     Object obj = "Hello";
     Integer num = (Integer) obj; // ClassCastException
     ```

4. **`IOException`**:
   - Возникает при ошибках ввода-вывода, таких как проблемы с файлами или сетевыми операциями.
   - Пример:
     ```java
     FileInputStream file = new FileInputStream("non_existing_file.txt"); // IOException
     ```

### 6. **Обработка исключений**

Исключения в Java обрабатываются с помощью блоков `try-catch-finally`:

- **`try`**: Блок, в котором выполняется код, потенциально вызывающий исключение.
- **`catch`**: Блок, который перехватывает и обрабатывает исключение.
- **`finally`**: Блок, который выполняется всегда, независимо от того, было ли исключение или нет.

Пример обработки исключения:
```java
public void divideNumbers(int a, int b) {
    try {
        int result = a / b;
        System.out.println("Result: " + result);
    } catch (ArithmeticException e) {
        System.out.println("Cannot divide by zero: " + e.getMessage());
    } finally {
        System.out.println("Division operation finished.");
    }
}
```

### 7. **Создание пользовательских исключений**

Если стандартные исключения Java не подходят для вашей задачи, можно создать собственное исключение, унаследовав его от `Exception` или `RuntimeException`.

Пример пользовательского исключения:
```java
class CustomException extends Exception {
    public CustomException(String message) {
        super(message);
    }
}
```

Пример использования:
```java
public void checkValue(int value) throws CustomException {
    if (value < 0) {
        throw new CustomException("Value cannot be negative");
    }
}
```

### Заключение
Иерархия исключений в Java предоставляет мощную и гибкую систему для обработки ошибок в программе. Выбор между проверяемыми и непроверяемыми исключениями зависит от логики программы и желаемого уровня контроля над возникающими ошибками.
